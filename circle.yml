dependencies:
  pre:  
    # Install the core/console dependencies
    - w3af/core/controllers/ci/install_core_dependencies.sh

    # Install GUI dependencies
    - w3af/core/controllers/ci/install_gui_dependencies.sh
    
    # Install the test dependencies
    - w3af/core/controllers/ci/install_test_dependencies.sh

machine:
  python:
    version: 2.7.3
  
  post:
    # This was required to avoid issues with different builds of python being
    # used between the gtk libs installed in /usr/lib/python2.7/dist-packages/
    # and the python which was put inside my virtualenv
    - pyenv global system
    
test:
  override:
    - w3af/core/controllers/ci/nosetests_wrapper.py
